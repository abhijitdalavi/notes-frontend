(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],[,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(3),l=a.n(c),s=(a(9),a(1));a(10),a(11),a(12);function i(e){var t=Object(n.useState)(e.title),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(e.description),r=Object(s.a)(i,2),d=r[0],m=r[1],u=Object(n.useState)(!0),h=Object(s.a)(u,2),g=h[0],f=h[1],p=Object(n.useState)(!1),v=Object(s.a)(p,2),E=v[0],N=v[1],j=Object(n.useState)(e.title),w=Object(s.a)(j,2),b=w[0],O=w[1],C=Object(n.useState)(e.description),S=Object(s.a)(C,2),T=S[0],k=S[1];function A(e,t){t.stopPropagation(),fetch("http://localhost:5000/notes/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":!0},mode:"cors"}).then((function(){window.location.reload()})).catch((function(e){throw e}))}function y(e,t,a){N(!0),fetch("http://localhost:5000/notes/update/".concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":!0},body:JSON.stringify({title:t,description:a})}).then((function(){l(t),m(a),N(!1)})).catch((function(e){throw N(!1),e}))}return o.a.createElement("div",{className:"Note-Modal"},o.a.createElement("div",{className:"Note",onClick:function(){return f(!1)}},o.a.createElement("div",{className:"Note-Title"},c),o.a.createElement("div",{className:"Note-Description"},d),o.a.createElement("div",{className:"Note-DeleteSection"},o.a.createElement("img",{src:"/notes-frontend/edit.png",alt:"edit"}),o.a.createElement("img",{src:"/notes-frontend/delete.png",alt:"delete",onClick:function(t){return A(e._id,t)}}))),!g&&o.a.createElement("div",{className:"Modal",onClick:function(){return f(!0)}},o.a.createElement("div",{className:"Modal-Content",onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{className:"Save-Section"},E?o.a.createElement("div",{className:"Modal-Save-Text"},"Saving..."):o.a.createElement("div",{className:"Modal-Save-Text"},"All changes saved \u2713")),o.a.createElement("textarea",{rows:"1",className:"Modal-Title",spellCheck:"false",placeholder:"Title",defaultValue:c,onChange:function(t){O(t.target.value),y(e._id,t.target.value,T)}}),o.a.createElement("textarea",{rows:"8",className:"Modal-Description",spellCheck:"false",placeholder:"Take a note...",defaultValue:d,onChange:function(t){k(t.target.value),y(e._id,b,t.target.value)}}),o.a.createElement("div",{className:"Modal-Close"},o.a.createElement("div",{className:"Modal-Close-Text",onClick:function(){return f(!0)}},"Close"),o.a.createElement("div",{className:"Modal-Delete",onClick:function(t){return A(e._id,t)}},"Delete")))))}function r(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(!0),d=Object(s.a)(r,2),m=d[0],u=d[1],h="http://localhost:5000/notes/"+e.user.googleId;return Object(n.useEffect)((function(){u(!0),fetch(h,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":!0}}).then((function(e){if(console.log("notes request received"),200===e.status)return e.json();throw new Error("failed to load notes")})).then((function(e){l(e.reverse()),u(!1)})).catch((function(e){throw u(!1),e}))}),[h]),m?o.a.createElement("div",{className:"Notes-Container"},o.a.createElement("img",{src:"/notes-frontend/loading.svg",alt:"Loading"})):o.a.createElement("div",{className:"Notes-Container"},c.map((function(e,t){return o.a.createElement(i,Object.assign({key:t},e))})))}a(13);function d(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),r=Object(s.a)(i,2),d=r[0],m=r[1];return o.a.createElement("div",{className:"Container"},o.a.createElement("input",{className:"Title",type:"text",spellCheck:"false",placeholder:"Title",onChange:function(e){return l(e.target.value)}}),o.a.createElement("textarea",{className:"Description",type:"text",spellCheck:"false",placeholder:"Take a note...",onChange:function(e){return m(e.target.value)}}),c||d?o.a.createElement("div",{className:"Submit",onClick:function(){!function(e,t,a){fetch("http://localhost:5000/notes/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":!0},mode:"cors",body:JSON.stringify({googleId:e,title:t,description:a})}).then((function(){window.location.reload()})).catch((function(e){throw e}))}(e.user.googleId,c,d)}},"Add Note"):o.a.createElement("div",{className:"Submit-Null"},"Add Note"))}function m(e){return e.isLoading?o.a.createElement("div",{className:"LoadingDashboard"},o.a.createElement("img",{src:"/notes-frontend/loading.svg",alt:"Loading"})):!1===e.isSignedIn?o.a.createElement("div",{className:"NotSignedInDashboard"},o.a.createElement("div",{className:"Notes-Head"},o.a.createElement("img",{className:"Notes-Logo",src:"/notes-frontend/favicon.ico",alt:"Icon"}),o.a.createElement("div",{className:"Notes-Head-Text"},"NOTES")),o.a.createElement("div",{className:"Typewriter"},o.a.createElement("div",null,"The simplest way"),o.a.createElement("div",null,"to keep notes ...")),o.a.createElement("div",{className:"Google-Btn",onClick:function(){return window.location.href="http://localhost:5000/auth/google"}},o.a.createElement("img",{className:"Google-Icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google"}),o.a.createElement("div",{className:"Btn-Text"},"Sign in with Google"))):e.isSignedIn?o.a.createElement("div",{className:"Dashboard"},o.a.createElement(d,e),o.a.createElement(r,e)):void 0}a(14);var u=function(e){return e.isSignedIn?o.a.createElement("div",{className:"Header"},o.a.createElement("div",{className:"Dropdown"},o.a.createElement("img",{className:"UserImage",src:e.user.picture,alt:"User"}),o.a.createElement("div",{className:"DropdownContent"},o.a.createElement("div",{className:"Username"},e.user.name),o.a.createElement("a",{href:"http://localhost:5000/auth/logout"},"Logout"))),o.a.createElement("div",{className:"Header-Flex"},o.a.createElement("img",{src:"/notes-frontend/favicon.ico",alt:"Notes-Logo"}),o.a.createElement("div",{className:"Heading"},"Notes"))):o.a.createElement("div",{className:"Header"},o.a.createElement("div",{className:"SignIn-Button",onClick:function(){return window.location.href="http://localhost:5000/auth/google"}},"Sign In"),o.a.createElement("div",{className:"Header-Flex"},o.a.createElement("img",{src:"/notes-frontend/favicon.ico",alt:"Notes-Logo"}),o.a.createElement("div",{className:"Heading"},"Notes")))};a(15);var h=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),r=i[0],d=i[1],h=Object(n.useState)(!1),g=Object(s.a)(h,2),f=g[0],p=g[1];Object(n.useEffect)((function(){p(!0),fetch("http://localhost:5000/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":!0}}).then((function(e){if(console.log("login request received"),!1===e.success)return!1;if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(e){!1===e.success?(c(!1),p(!1)):(d(e.user),c(!0),p(!1))})).catch((function(e){throw c(!1),p(!1),e}))}),[]);var v={user:r,isSignedIn:a,isLoading:f};return o.a.createElement("div",{className:"App"},o.a.createElement(u,v),o.a.createElement(m,v))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.7e91250d.chunk.js.map